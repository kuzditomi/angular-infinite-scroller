const scrollerModule=angular.module("angular-infinite-scroller",[]),BUFFER_COUNT=5,LOAD_COUNT=10;scrollerModule.directive("infiniteScroller",function(){return{transclude:"element",link:function(e,l,o,t,n){let f,r=o.infiniteScroller.match(/^\s*(.+)\s+in\s+(.*?)$/),s=r[1],i=r[2],c=l.parent(),p=[],u=0,T=0,h=0;function g(l){let o=l||BUFFER_COUNT;for(var t=T;t<f.length&&o>0;t++){let l=e.$new();l[s]=f[t],n(l,function(e){c.append(e);let t={};t.el=e,t.scope=l,p.push(t);let n=c[0],f=t.el[0],r=n.offsetTop+n.scrollTop+n.offsetHeight;n.offsetTop+f.offsetTop+f.offsetHeight>r&&o--})}T=t}function U(e){let l=p.splice(e,1)[0];l.el.remove(),l.scope.$destroy()}e.$watchCollection(i,function(e){if(f=e,0!=p.length)for(var l=0;l<p.length;l++){p[l].scope[s]=f[u+l]}else g(LOAD_COUNT)}),c.bind("scroll",function(l){e.$apply(function(){let l=c[0];h<l.scrollTop?l.scrollTop+l.offsetHeight==l.scrollHeight&&(g(),function(){if(p.length<BUFFER_COUNT)return;let e=!0;for(;e;){let l=p[BUFFER_COUNT].el[0],o=l.offsetTop+l.offsetHeight,t=c[0].offsetTop+c[0].scrollTop;o<t?(U(0),u++):e=!1}}()):h>l.scrollTop&&l.scrollTop<p[0].el[0].scrollHeight*BUFFER_COUNT&&(function(){let l=LOAD_COUNT;for(var o=u-1;o>=0&&l>0;o--){let t=e.$new();t[s]=f[o],n(t,function(e){c.prepend(e);let l={};l.el=e,l.scope=t,p.unshift(l)}),l--}u=o+1}(),function(){if(p.length<BUFFER_COUNT)return;let e=!0;for(;e;){let l=p[p.length-BUFFER_COUNT].el[0],o=l.offsetTop,t=c[0].offsetHeight+c[0].scrollTop+c[0].offsetHeight;o>t?(U(p.length-1),T--):e=!1}}())}),h=c[0].scrollTop})}}}),"undefined"!=typeof module&&module&&module.exports&&(module.exports=scrollerModule);