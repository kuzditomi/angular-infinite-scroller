{"version":3,"sources":["webpack:///webpack/bootstrap e96e2d4fb03988d388bc","webpack:///./src/scroller.ts","webpack:///./src/module.ts","webpack:///./src/descriptor.ts","webpack:///./src/scroller-factory.ts","webpack:///./src/scroll-detector.ts","webpack:///./src/elements-manager.ts","webpack:///./src/revealer-scroller.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Scroller","descriptor","scrollDetector","elementsManager","_this","this","onCollectionUpdated","newCollection","UpdateCollection","onScrollDown","scope","$apply","AddBottom","RemoveTop","onScrollUp","AddTop","RemoveBottom","OnScrollDown","OnScrollUp","SubscribeTo","Element","$watchCollection","CollectionString","Scope","descriptor_1","scroller_factory_1","angular","directive","transclude","link","element","attr","ctrl","linker","Descriptor","createFrom","ScrollerFactory","match","infiniteScroller","indexString","collectionString","IndexString","UseRevealer","undefined","scroll_detector_1","elements_manager_1","revealer_scroller_1","scroller_1","detector","ScrollDetector","ElementsManager","RevealerScroller","lastScrollTop","BUFFER_COUNT","parent","parentEl","bind","scrollTop","offsetHeight","scrollHeight","topElement","children","LOAD_COUNT","collection","updateScopes","countTillStop","displayFrom","childScope","$new","newElement","transcludeElement","container","prepend","items","unshift","overflowCounter","length","displayTo","item","append","push","blockEl","parentBottom","containerElement","offsetTop","hasInvisibleChildren","el","removeElement","index","clone","splice","remove","$destroy","_super","__extends"],"mappings":"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","file":"angular-infinite-scroll.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e96e2d4fb03988d388bc","import { Descriptor } from \"./descriptor\";\r\nimport { ScrollDetector } from \"./scroll-detector\";\r\nimport { ElementsManager } from \"./elements-manager\";\r\n\r\nexport interface IScroller {\r\n\r\n}\r\n\r\nexport class Scroller implements IScroller {\r\n    private get scope(): ng.IScope {\r\n        return this.descriptor.Scope;\r\n    }\r\n\r\n    public constructor(private descriptor: Descriptor, private scrollDetector: ScrollDetector, private elementsManager: ElementsManager) {\r\n        this.scrollDetector.OnScrollDown = this.onScrollDown;\r\n        this.scrollDetector.OnScrollUp = this.onScrollUp;\r\n\r\n        this.scrollDetector.SubscribeTo(descriptor.Element);\r\n        \r\n        this.scope.$watchCollection(descriptor.CollectionString, this.onCollectionUpdated);\r\n    }\r\n\r\n    private onCollectionUpdated = (newCollection: any[]): void => {\r\n        this.elementsManager.UpdateCollection(newCollection);\r\n    };\r\n\r\n    private onScrollDown = (): void => {\r\n        this.scope.$apply(() => {\r\n            this.elementsManager.AddBottom();\r\n            this.elementsManager.RemoveTop();\r\n        });\r\n    };\r\n\r\n    private onScrollUp = (): void => {\r\n        this.scope.$apply(() => {\r\n            this.elementsManager.AddTop();\r\n            this.elementsManager.RemoveBottom();\r\n        });\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scroller.ts","import { Descriptor } from './descriptor';\r\nimport { ScrollerFactory } from \"./scroller-factory\";\r\n\r\ndeclare var angular;\r\n\r\nconst scrollerModule = angular.module('angular-infinite-scroller', []);\r\n\r\nscrollerModule.directive('infiniteScroller', () => {\r\n    return {\r\n        transclude: 'element',\r\n        link: (scope: ng.IScope, element: JQLite, attr: ng.IAttributes, ctrl, linker: ng.ITranscludeFunction) => {\r\n            const descriptor = Descriptor.createFrom(scope, element, attr);\r\n            const scroller = ScrollerFactory.createFrom(descriptor, linker);\r\n        }\r\n    }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/module.ts","export class Descriptor {\r\n    private constructor() { }\r\n\r\n    public CollectionString: string\r\n    public IndexString: string;\r\n    public UseRevealer: boolean;\r\n    public Scope: ng.IScope;\r\n    public Element: JQLite;\r\n\r\n    static createFrom(scope: ng.IScope, element: JQLite, attr: ng.IAttributes): Descriptor {\r\n        const loop = attr.infiniteScroller,\r\n            match = loop.match(/^\\s*(.+)\\s+in\\s+(.*?)$/),\r\n            indexString = match[1],\r\n            collectionString = match[2];\r\n\r\n        const descriptor = new Descriptor();\r\n        descriptor.CollectionString = collectionString;\r\n        descriptor.IndexString = indexString;\r\n        descriptor.UseRevealer = attr['useRevealer'] != undefined;\r\n        descriptor.Element = element;\r\n        descriptor.Scope = scope;\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/descriptor.ts","import { Descriptor } from \"./descriptor\";\r\nimport { ScrollDetector } from \"./scroll-detector\";\r\nimport { ElementsManager } from \"./elements-manager\";\r\nimport { RevealerScroller } from \"./revealer-scroller\";\r\nimport { Scroller, IScroller } from \"./scroller\";\r\n\r\nexport class ScrollerFactory {\r\n    static createFrom(descriptor: Descriptor, linker: ng.ITranscludeFunction): IScroller {\r\n        const detector = new ScrollDetector();\r\n        const elementsManager = new ElementsManager(descriptor, linker);\r\n\r\n        if (descriptor.UseRevealer) {\r\n            return new RevealerScroller(descriptor, detector, elementsManager);\r\n        }\r\n\r\n        return new Scroller(descriptor, detector, elementsManager);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scroller-factory.ts","export class ScrollDetector {\r\n    private lastScrollTop = 0;\r\n    private BUFFER_COUNT = 5;\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    public SubscribeTo = (element: JQLite) => {\r\n        const parent: JQLite = element.parent();\r\n        const parentEl: HTMLElement = parent[0];\r\n\r\n        parent.bind('scroll', () => {\r\n            if (this.lastScrollTop < parentEl.scrollTop) {\r\n                const current = parentEl.scrollTop + parentEl.offsetHeight;\r\n                const bottom = parentEl.scrollHeight;\r\n\r\n                if (current == bottom) {\r\n                    this.OnScrollDown && this.OnScrollDown();\r\n                }\r\n            } else if (this.lastScrollTop > parentEl.scrollTop) {\r\n                const topElement = parentEl.children[0];\r\n\r\n                if (parentEl.scrollTop < (topElement.scrollHeight * this.BUFFER_COUNT)) {\r\n                    this.OnScrollUp && this.OnScrollUp();\r\n                }\r\n            }\r\n            this.lastScrollTop = parent[0].scrollTop;\r\n        });\r\n    }\r\n\r\n    public OnScrollDown?: () => void;\r\n    public OnScrollUp?: () => void;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scroll-detector.ts","import { Descriptor } from \"./descriptor\";\r\n\r\ntype Item = {\r\n    Element: JQLite,\r\n    Scope: ng.IScope\r\n}\r\n\r\nexport class ElementsManager {\r\n    private collection: any[];\r\n    private container: JQLite;\r\n    private containerElement: HTMLElement;\r\n    private items: Item[];\r\n    private displayFrom: number;\r\n    private displayTo: number;\r\n\r\n    private BUFFER_COUNT = 5;\r\n    private LOAD_COUNT = 10;\r\n\r\n    constructor(private descriptor: Descriptor, private linker: ng.ITranscludeFunction) {\r\n        this.items = [];\r\n        this.displayFrom = 0;\r\n        this.displayTo = 0;\r\n        this.container = descriptor.Element.parent();\r\n        this.containerElement = this.container[0];\r\n    }\r\n\r\n    public UpdateCollection = (newCollection: any[]) => {\r\n        if (this.collection == undefined) {\r\n            this.collection = newCollection;\r\n            this.AddBottom();\r\n        } else {\r\n            this.collection = newCollection;\r\n            this.updateScopes();\r\n        }\r\n    }\r\n\r\n    public AddTop = () => {\r\n        let countTillStop = this.LOAD_COUNT;\r\n\r\n        for (var i = this.displayFrom - 1; i >= 0 && countTillStop > 0; i--) {\r\n            const childScope = this.descriptor.Scope.$new();\r\n            childScope[this.descriptor.IndexString] = this.collection[i];\r\n\r\n            const newElement = this.transcludeElement(childScope, i);\r\n            this.container.prepend(newElement.Element);\r\n            this.items.unshift(newElement);\r\n\r\n            countTillStop--;\r\n        }\r\n\r\n        this.displayFrom = i + 1;\r\n    };\r\n\r\n    public AddBottom = () => {\r\n        // add this many children below visible area\r\n        let overflowCounter = this.items.length > 0 ? this.BUFFER_COUNT : this.LOAD_COUNT;\r\n\r\n        for (var i = this.displayTo; i < this.collection.length && overflowCounter > 0; i++) {\r\n            const childScope = this.descriptor.Scope.$new();\r\n            childScope[this.descriptor.IndexString] = this.collection[i];\r\n\r\n            const item = this.transcludeElement(childScope, i);\r\n            this.container.append(item.Element);\r\n            this.items.push(item);\r\n\r\n            const blockEl = item.Element[0];\r\n            const parentBottom = this.containerElement.offsetTop + this.containerElement.scrollTop + this.containerElement.offsetHeight;\r\n            const blockBottom = this.containerElement.offsetTop + blockEl.offsetTop + blockEl.offsetHeight;\r\n\r\n            if (blockBottom > parentBottom) {\r\n                overflowCounter--;\r\n            }\r\n        }\r\n\r\n        this.displayTo = i;\r\n    };\r\n\r\n    public RemoveTop = () => {\r\n        if (this.items.length < this.BUFFER_COUNT) {\r\n            return;\r\n        }\r\n\r\n        let hasInvisibleChildren = true;\r\n        while (hasInvisibleChildren) {\r\n            const el = this.items[this.BUFFER_COUNT].Element[0];\r\n            const elementBottom = el.offsetTop + el.offsetHeight;\r\n            const scrollTop = this.containerElement.offsetTop + this.containerElement.scrollTop;\r\n\r\n            if (elementBottom < scrollTop) {\r\n                this.removeElement(0);\r\n                this.displayFrom++;\r\n            } else {\r\n                hasInvisibleChildren = false;\r\n            }\r\n        }\r\n    };\r\n\r\n    public RemoveBottom = () => {\r\n        if (this.items.length < this.BUFFER_COUNT) {\r\n            return;\r\n        }\r\n\r\n        let hasInvisibleChildren = true;\r\n        while (hasInvisibleChildren) {\r\n            const el = this.items[this.items.length - this.BUFFER_COUNT].Element[0];\r\n            const elementTop = el.offsetTop;\r\n            const bottom = this.containerElement.offsetHeight + this.containerElement.scrollTop + this.containerElement.offsetHeight;\r\n\r\n            if (elementTop > bottom) {\r\n                this.removeElement(this.items.length - 1);\r\n                this.displayTo--;\r\n            } else {\r\n                hasInvisibleChildren = false;\r\n            }\r\n        }\r\n    };\r\n\r\n    private updateScopes = () => {\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            const item = this.items[i];\r\n            item.Scope[this.descriptor.IndexString] = this.collection[this.displayFrom + i];\r\n        }\r\n    };\r\n\r\n    private transcludeElement = (childScope: ng.IScope, index: number): Item => {\r\n        const item = {} as Item;\r\n\r\n        this.linker(childScope, (clone: JQLite) => {\r\n            item.Element = clone;\r\n            item.Scope = childScope;\r\n        });\r\n\r\n        return item;\r\n    }\r\n\r\n    private removeElement = (index: number) => {\r\n        const item = this.items.splice(index, 1)[0];\r\n        item.Element.remove();\r\n        item.Scope.$destroy();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/elements-manager.ts","import { Descriptor } from \"./descriptor\";\r\nimport { ScrollDetector } from \"./scroll-detector\";\r\nimport { ElementsManager } from \"./elements-manager\";\r\nimport { Scroller } from \"./scroller\";\r\n\r\nexport class RevealerScroller extends Scroller {\r\n    public constructor(descriptor: Descriptor, detector: ScrollDetector, elementsManager: ElementsManager) {\r\n        super(descriptor, detector, elementsManager);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/revealer-scroller.ts"],"sourceRoot":""}