!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(2);angular.module("angular-infinite-scroller",[]).directive("infiniteScroller",function(){return{transclude:"element",link:function(e,t,n,l,i){var s=o.Descriptor.createFrom(e,t,n);r.ScrollerFactory.createFrom(s,i)}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.createFrom=function(t,n,o){var r=o.infiniteScroller.match(/^\s*(.+)\s+in\s+(.*?)$/),l=r[1],i=r[2],s=new e;return s.CollectionString=i,s.IndexString=l,s.UseRevealer=void 0!=o.useRevealer,s.Element=n,s.Scope=t,s},e}();t.Descriptor=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=n(4),l=n(5),i=n(6),s=function(){function e(){}return e.createFrom=function(e,t){var n=new o.ScrollDetector;if(e.UseRevealer){var s=new i.RevealerElementsManager(e,t);return new l.Scroller(e,n,s)}s=new r.ElementsManager(e,t);return new l.Scroller(e,n,s)},e}();t.ScrollerFactory=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(){var e=this;this.lastScrollTop=0,this.BUFFER_COUNT=5,this.SubscribeTo=function(t){var n=t.parent(),o=n[0];n.bind("scroll",function(){if(e.lastScrollTop<o.scrollTop)o.scrollTop+o.offsetHeight==o.scrollHeight&&e.OnScrollDown&&e.OnScrollDown();else if(e.lastScrollTop>o.scrollTop){var t=o.children[0];t&&o.scrollTop<=t.scrollHeight*e.BUFFER_COUNT&&e.OnScrollUp&&e.OnScrollUp()}e.lastScrollTop=n[0].scrollTop})}}}();t.ScrollDetector=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t){var n=this;this.descriptor=e,this.linker=t,this.BUFFER_COUNT=5,this.LOAD_COUNT=10,this.UpdateCollection=function(e){void 0==n.collection?(n.collection=e,n.AddBottom()):(n.collection=e,n.updateScopes())},this.AddTop=function(){for(var e=n.LOAD_COUNT,t=n.displayFrom-1;t>=0&&e>0;t--){var o=n.transcludeElement(t);n.container.prepend(o.Element),n.items.unshift(o),e--}n.displayFrom=t+1},this.AddBottom=function(){for(var e=n.items.length>0?n.BUFFER_COUNT:n.LOAD_COUNT,t=n.displayTo;t<n.collection.length&&e>0;t++){var o=n.transcludeElement(t);n.container.append(o.Element),n.items.push(o);var r=o.Element[0],l=n.containerElement.offsetTop+n.containerElement.scrollTop+n.containerElement.offsetHeight;r.offsetTop+r.offsetHeight>l&&e--}n.displayTo=t},this.RemoveTop=function(){if(!(n.items.length<n.BUFFER_COUNT))for(var e=!0;e;){var t=n.items[n.BUFFER_COUNT].Element[0];t.offsetTop+t.offsetHeight<n.containerElement.offsetTop+n.containerElement.scrollTop?(n.removeElement(0),n.displayFrom++):e=!1}},this.RemoveBottom=function(){if(!(n.items.length<n.BUFFER_COUNT))for(var e=!0;e;)n.items[n.items.length-n.BUFFER_COUNT].Element[0].offsetTop>n.containerElement.offsetHeight+n.containerElement.scrollTop+n.containerElement.offsetHeight?(n.removeElement(n.items.length-1),n.displayTo--):e=!1},this.updateScopes=function(){for(var e=0;e<n.items.length;e++)n.items[e].Scope[n.descriptor.IndexString]=n.collection[n.displayFrom+e]},this.transcludeElement=function(e){var t={},o=n.descriptor.Scope.$new();return o[n.descriptor.IndexString]=n.collection[e],n.linker(o,function(e){t.Element=e,t.Scope=o}),t},this.removeElement=function(e){var t=n.items.splice(e,1)[0];t.Element.remove(),t.Scope.$destroy()},this.items=[],this.displayFrom=0,this.displayTo=0,this.container=e.Element.parent(),this.containerElement=this.container[0],this.descriptor.Scope.$on("$destroy",function(){n.items=[]})}}();t.ElementsManager=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n){var o=this;this.descriptor=e,this.scrollDetector=t,this.elementsManager=n,this.onCollectionUpdated=function(e){o.elementsManager.UpdateCollection(e)},this.onScrollDown=function(){o.scope.$apply(function(){o.elementsManager.AddBottom(),o.elementsManager.RemoveTop()})},this.onScrollUp=function(){o.scope.$apply(function(){o.elementsManager.AddTop(),o.elementsManager.RemoveBottom()})},this.scrollDetector.OnScrollDown=this.onScrollDown,this.scrollDetector.OnScrollUp=this.onScrollUp,this.scrollDetector.SubscribeTo(e.Element),this.scope.$watchCollection(e.CollectionString,this.onCollectionUpdated)}return Object.defineProperty(e.prototype,"scope",{get:function(){return this.descriptor.Scope},enumerable:!0,configurable:!0}),e}();t.Scroller=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t){var n=this;this.descriptor=e,this.linker=t,this.BUFFER_COUNT=5,this.LOAD_COUNT=10,this.REVEALER_SIZE_TO_CONTAINER=.75,this.UpdateCollection=function(e){void 0==n.collection?(n.collection=e,n.InitializeRevealer(),n.AddBottom()):(n.collection=e,n.updateScopes())},this.updateScopes=function(){for(var e=n.displayFrom,t=0,o=n.revealers;t<o.length;t++){for(var r=o[t],l=0;l<n.revealerSize;l++){var i=e<n.collection.length,s=r.Items.length>l;if(i&&s)r.Items[l].Scope[n.descriptor.IndexString]=n.collection[e];else if(i){var c=n.transcludeElement(e);r.Element.append(c.Element),r.Items.push(c)}else{if(!s)continue;(c=r.Items.pop()).Scope.$destroy(),c.Element.remove()}e++}0==r.Items.length&&r.Element.remove()}var a=n.displayTo;n.displayTo=e,e<a&&n.collection.length>e?n.AddBottom():n.revealers=n.revealers.filter(function(e){return e.Items.length>0})},this.InitializeRevealer=function(){var e=n.createRevealer();n.revealers.push(e),n.container.append(e.Element);for(var t=0,o=!1;!o;){var r=n.transcludeElement(t);e.Element.append(r.Element),e.Items.push(r);var l=r.Element[0],i=n.containerElement.offsetTop+n.containerElement.offsetHeight*n.REVEALER_SIZE_TO_CONTAINER;if(l.offsetTop+l.offsetHeight>i){var s=e.Items.pop();s.Scope.$destroy(),s.Element.remove(),o=!0;break}t++}n.revealerSize=t,n.displayTo=t},this.AddTop=function(){if(0!=n.displayFrom){var e=n.createRevealer();n.revealers.unshift(e),n.container.prepend(e.Element),n.LOAD_COUNT;for(var t=0;t<n.revealerSize&&!(n.displayFrom+1-t<0);t++){var o=n.transcludeElement(n.displayFrom-1-t);e.Element.prepend(o.Element),e.Items.unshift(o)}n.displayFrom-=t}},this.AddBottom=function(){if(n.displayTo!=n.collection.length){var e=n.createRevealer();n.revealers.push(e),n.container.append(e.Element);for(var t=0;t<n.revealerSize&&n.displayTo+t<n.collection.length;t++){var o=n.transcludeElement(n.displayTo+t);e.Element.append(o.Element),e.Items.push(o)}n.displayTo+=t}},this.RemoveTop=function(){if(!(n.revealers.length<=3)){var e=n.revealers.shift();for(n.displayFrom+=e.Items.length;e.Items.length>0;){var t=e.Items.pop();t.Element.remove(),t.Scope.$destroy()}e.Element.remove()}},this.RemoveBottom=function(){if(!(n.revealers.length<=3)){var e=n.revealers.pop();for(n.displayTo-=e.Items.length;e.Items.length>0;){var t=e.Items.pop();t.Element.remove(),t.Scope.$destroy()}e.Element.remove(),n.containerElement.scrollTo(0,n.containerElement.offsetHeight/2)}},this.transcludeElement=function(e){var t={},o=n.descriptor.Scope.$new();return o[n.descriptor.IndexString]=n.collection[e],n.linker(o,function(e){t.Element=e,t.Scope=o}),t},this.createRevealer=function(){return{Element:angular.element('<div class="revealer"></div>'),Items:[]}},this.revealers=[],this.container=e.Element.parent(),this.containerElement=this.container[0],this.displayFrom=0,this.displayTo=0,this.descriptor.Scope.$on("$destroy",function(){n.revealers=[]})}}();t.RevealerElementsManager=o}]);
//# sourceMappingURL=angular-infinite-scroll.min.js.map