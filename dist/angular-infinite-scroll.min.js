!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(2),i=n(6),l=n(7);angular.module("angular-infinite-scroller",[]).directive("infiniteScroller",function(){return{transclude:"element",link:function(e,t,n,s,c){var a=o.Descriptor.createFrom(e,n),m=new i.DOMManager(t),p=new l.ScrollDetector(t);r.ScrollerFactory.createFrom(a,m,c,p)}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.BufferSize=10}return e.createFrom=function(t){var n=new e;if(t.scrollBufferSize)try{var o=parseInt(t.scrollBufferSize);if(isNaN(o))throw"";n.BufferSize=o}catch(e){throw"could not initialize scroll settings, ScrollBufferSize is not a number"}return n},e}();t.ScrollSettings=o;var r=function(){function e(){}return e.createFrom=function(t,n){var r=n.infiniteScroller.match(/^\s*(.+)\s+in\s+(.*?)$/),i=r[1],l=r[2],s=o.createFrom(n),c=new e;return c.CollectionString=l,c.IndexString=i,c.UseRevealer=void 0!=n.useRevealer,c.Scope=t,c.Settings=s,c},e}();t.Descriptor=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=n(4),i=n(5),l=function(){function e(){}return e.createFrom=function(e,t,n,l){if(e.UseRevealer){var s=new i.RevealerElementsManager(e,t,n);return new r.Scroller(e,l,s)}s=new o.ElementsManager(e,t,n);return new r.Scroller(e,l,s)},e}();t.ScrollerFactory=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t,n){var o=this;this.descriptor=e,this.domManager=t,this.linker=n,this.UpdateCollection=function(e){void 0==o.collection?(o.collection=e,o.AddBottom()):(o.collection=e,o.updateScopes())},this.AddTop=function(){for(var e=o.descriptor.Settings.BufferSize,t=o.displayFrom-1;t>=0&&e>0;t--){var n=o.transcludeElement(t);o.domManager.PrependElement(n.Element),o.items.unshift(n),e--}o.displayFrom=t+1},this.AddBottom=function(){for(var e=o.descriptor.Settings.BufferSize,t=o.displayTo;t<o.collection.length&&e>0;t++){var n=o.transcludeElement(t);o.domManager.AppendElement(n.Element),o.items.push(n);var r=n.Element,i=o.domManager.GetScrollBottomPosition();o.domManager.GetElementBottomPosition(r)>i&&e--}o.displayTo=t},this.RemoveTop=function(){if(!(o.items.length<o.descriptor.Settings.BufferSize))for(var e=!0;e;){var t=o.items[o.descriptor.Settings.BufferSize].Element;o.domManager.GetElementBottomPosition(t)<o.domManager.GetScrollTopPosition()?(o.removeElement(0),o.displayFrom++):e=!1}},this.RemoveBottom=function(){if(!(o.items.length<o.descriptor.Settings.BufferSize))for(var e=!0;e;){var t=o.items[o.items.length-o.descriptor.Settings.BufferSize].Element;o.domManager.GetElementTopPosition(t)>o.domManager.GetScrollBottomPosition()?(o.removeElement(o.items.length-1),o.displayTo--):e=!1}},this.updateScopes=function(){for(var e=0;e<o.items.length;e++)o.items[e].Scope[o.descriptor.IndexString]=o.collection[o.displayFrom+e]},this.transcludeElement=function(e){var t={},n=o.descriptor.Scope.$new();return n[o.descriptor.IndexString]=o.collection[e],o.linker(n,function(e){t.Element=e,t.Scope=n}),t},this.removeElement=function(e){var t=o.items.splice(e,1)[0];o.domManager.Remove(t.Element),t.Scope.$destroy()},this.items=[],this.displayFrom=0,this.displayTo=0,this.descriptor.Scope.$on("$destroy",function(){o.items=[]})}}();t.ElementsManager=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n){var o=this;this.descriptor=e,this.scrollDetector=t,this.elementsManager=n,this.onCollectionUpdated=function(e){o.elementsManager.UpdateCollection(e)},this.onScrollDown=function(){o.scope.$apply(function(){o.elementsManager.AddBottom(),o.elementsManager.RemoveTop()})},this.onScrollUp=function(){o.scope.$apply(function(){o.elementsManager.AddTop(),o.elementsManager.RemoveBottom()})},this.scrollDetector.OnScrollDown=this.onScrollDown,this.scrollDetector.OnScrollUp=this.onScrollUp,this.scrollDetector.SubscribeToElement(),this.scope.$watchCollection(e.CollectionString,this.onCollectionUpdated)}return Object.defineProperty(e.prototype,"scope",{get:function(){return this.descriptor.Scope},enumerable:!0,configurable:!0}),e}();t.Scroller=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t,n){var o=this;this.descriptor=e,this.domManager=t,this.linker=n,this.BUFFER_COUNT=5,this.LOAD_COUNT=10,this.REVEALER_SIZE_TO_CONTAINER=.75,this.UpdateCollection=function(e){void 0==o.collection?(o.collection=e,o.InitializeRevealer(),o.AddBottom()):(o.collection=e,o.updateScopes())},this.updateScopes=function(){for(var e=o.displayFrom,t=0,n=o.revealers;t<n.length;t++){for(var r=n[t],i=0;i<o.revealerSize;i++){var l=e<o.collection.length,s=r.Items.length>i;if(l&&s)r.Items[i].Scope[o.descriptor.IndexString]=o.collection[e];else if(l){var c=o.transcludeElement(e);o.domManager.AppendElementToContainer(c.Element,r.Element),r.Items.push(c)}else{if(!s)continue;(c=r.Items.pop()).Scope.$destroy(),o.domManager.Remove(c.Element)}e++}0==r.Items.length&&o.domManager.Remove(r.Element)}var a=o.displayTo;o.displayTo=e,e<a&&o.collection.length>e?o.AddBottom():o.revealers=o.revealers.filter(function(e){return e.Items.length>0})},this.InitializeRevealer=function(){var e=o.createRevealer();o.revealers.push(e),o.domManager.AppendElement(e.Element);for(var t=0,n=!1;!(n||t>=o.collection.length);){var r=o.transcludeElement(t);o.domManager.AppendElementToContainer(r.Element,e.Element),e.Items.push(r);var i=o.domManager.GetRelativePositionOf(o.REVEALER_SIZE_TO_CONTAINER);if(o.domManager.GetElementBottomPosition(r.Element)>i){var l=e.Items.pop();l.Scope.$destroy(),l.Element.remove(),n=!0;break}t++}o.revealerSize=t,o.displayTo=t},this.AddTop=function(){if(0!=o.displayFrom){var e=o.createRevealer();o.revealers.unshift(e),o.domManager.PrependElement(e.Element),o.LOAD_COUNT;for(var t=0;t<o.revealerSize&&!(o.displayFrom+1-t<0);t++){var n=o.transcludeElement(o.displayFrom-1-t);o.domManager.PrependElementToContainer(n.Element,e.Element),e.Items.unshift(n)}o.displayFrom-=t}},this.AddBottom=function(){if(!(o.displayTo>=o.collection.length)){var e=o.createRevealer();o.revealers.push(e),o.domManager.AppendElement(e.Element);for(var t=0;t<o.revealerSize&&o.displayTo+t<o.collection.length;t++){var n=o.transcludeElement(o.displayTo+t);e.Element.append(n.Element),e.Items.push(n)}o.displayTo+=t}},this.RemoveTop=function(){if(!(o.revealers.length<=3)){var e=o.revealers.shift();for(o.displayFrom+=e.Items.length;e.Items.length>0;){var t=e.Items.pop();t.Element.remove(),t.Scope.$destroy()}e.Element.remove()}},this.RemoveBottom=function(){if(!(o.revealers.length<=3)){var e=o.revealers.pop();for(o.displayTo-=e.Items.length;e.Items.length>0;){var t=e.Items.pop();o.domManager.Remove(t.Element),t.Scope.$destroy()}o.domManager.Remove(e.Element),o.domManager.FixScroll(.5)}},this.transcludeElement=function(e){var t={},n=o.descriptor.Scope.$new();return n[o.descriptor.IndexString]=o.collection[e],o.linker(n,function(e){t.Element=e,t.Scope=n}),t},this.createRevealer=function(){return{Element:o.domManager.CreateRevealerElement(),Items:[]}},this.revealers=[],this.displayFrom=0,this.displayTo=0,this.descriptor.Scope.$on("$destroy",function(){o.revealers=[]})}}();t.RevealerElementsManager=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){var t=this;this.element=e,this.GetScrollTopPosition=function(){return t.containerElement.offsetTop+t.containerElement.scrollTop},this.GetScrollBottomPosition=function(){return t.containerElement.offsetTop+t.containerElement.scrollTop+t.containerElement.offsetHeight},this.AppendElement=function(e){t.container.append(e)},this.PrependElement=function(e){t.container.prepend(e)},this.AppendElementToContainer=function(e,t){t.append(e)},this.PrependElementToContainer=function(e,t){t.prepend(e)},this.container=e.parent(),this.containerElement=this.container[0]}return e.prototype.CreateRevealerElement=function(){return angular.element('<div class="revealer"></div>')},e.prototype.GetElementTopPosition=function(e){return e[0].offsetTop},e.prototype.Remove=function(e){e.remove()},e.prototype.GetElementBottomPosition=function(e){return e[0].offsetTop+e[0].offsetHeight},e.prototype.GetRelativePositionOf=function(e){return this.containerElement.offsetTop+this.containerElement.offsetHeight*e},e.prototype.FixScroll=function(e){this.containerElement.scrollTo(0,this.containerElement.offsetHeight/2)},e}();t.DOMManager=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e){var t=this;this.element=e,this.lastScrollTop=0,this.BUFFER_COUNT=5,this.SubscribeToElement=function(){var e=t.element.parent()[0];e.onscroll=function(){if(t.lastScrollTop<e.scrollTop)e.scrollTop+e.offsetHeight==e.scrollHeight&&t.OnScrollDown&&t.OnScrollDown();else if(t.lastScrollTop>e.scrollTop){var n=e.children[0];e.scrollTop<=n.clientHeight*t.BUFFER_COUNT&&t.OnScrollUp&&t.OnScrollUp()}t.lastScrollTop=e.scrollTop}}}}();t.ScrollDetector=o}]);
//# sourceMappingURL=angular-infinite-scroll.min.js.map