!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),r=o(3),i=o(7),l=o(8);t.scrollerModule=angular.module("angular-infinite-scroller",[]),t.scrollerModule.directive("infiniteScroller",function(){return{priority:1e3,restrict:"A",transclude:"element",link:function(e,t,o,s,c){var a=n.Descriptor.createFrom(e,o),m=new i.DOMManager(t),p=new l.ScrollDetector(t);r.ScrollerFactory.createFrom(a,m,c,p)}}})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),r=function(){function e(){}return e.createFrom=function(t,o){var r=n.ScrollSettings.createFrom(o),i=e.parseExpression(o.infiniteScroller),l=new e;return l.CollectionExpression=i.collection,l.IndexExpression=i.index,l.TrackByExpression=i.trackBy,l.UseRevealer=void 0!==o.useRevealer,l.Scope=t,l.Settings=r,l},e.parseExpression=function(e){var t=e.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!t)throw Error("Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '"+e+"'.");var o=t[1],n=t[2],r=t[3];if(!(t=o.match(/^(?:(\s*[$\w]+))$/)))throw Error("'_item_' in '_item_ in _collection_' should be an identifier but got '"+o+"'.");return{collection:n,index:t[1],trackBy:r}},e}();t.Descriptor=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.BufferSize=10}return e.createFrom=function(t){var o=new e;if(t.scrollBufferSize)try{var n=parseInt(t.scrollBufferSize);if(isNaN(n))throw"";o.BufferSize=n}catch(e){throw"could not initialize scroll settings, ScrollBufferSize is not a number"}return o},e}();t.ScrollSettings=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(4),r=o(5),i=o(6),l=function(){function e(){}return e.createFrom=function(e,t,o,l){if(e.UseRevealer){var s=new i.RevealerElementsManager(e,t,o);return new r.Scroller(e,l,s)}s=new n.ElementsManager(e,t,o);return new r.Scroller(e,l,s)},e}();t.ScrollerFactory=l},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,o){var n=this;this.descriptor=e,this.domManager=t,this.linker=o,this.UpdateCollection=function(e){n.collection=e,n.FillBottom(),n.updateScopes()},this.AddTop=function(){var e=n.descriptor.Settings.BufferSize,t=0;for(t=n.displayFrom-1;t>=0&&e>0;t--){var o=n.transcludeElement(t);n.domManager.PrependElement(o.Element),n.items.unshift(o),e--}n.displayFrom=t+1},this.AddBottom=function(){var e=n.domManager.GetScrollBottomPosition(),t=n.descriptor.Settings.BufferSize,o=0;for(o=n.displayTo;o<n.collection.length&&t>0;o++){var r=n.transcludeElement(o);n.domManager.AppendElement(r.Element),n.items.push(r);var i=r.Element;n.domManager.GetElementBottomPosition(i)>e&&t--}n.displayTo=o},this.RemoveTop=function(){for(var e=!0;e&&!(n.items.length<=n.descriptor.Settings.BufferSize);){var t=n.items[n.descriptor.Settings.BufferSize].Element;n.domManager.GetElementBottomPosition(t)<n.domManager.GetScrollTopPosition()?(n.removeElement(0),n.displayFrom++):e=!1}},this.RemoveBottom=function(){if(!(n.items.length<n.descriptor.Settings.BufferSize))for(var e=!0;e;){var t=n.items[n.items.length-n.descriptor.Settings.BufferSize].Element;n.domManager.GetElementTopPosition(t)>n.domManager.GetScrollBottomPosition()?(n.removeElement(n.items.length-1),n.displayTo--):e=!1}},this.updateScopes=function(){for(var e=0;e<n.items.length;e++){n.items[e].Scope[n.descriptor.IndexExpression]=n.collection[n.displayFrom+e]}},this.transcludeElement=function(e){var t={},o=n.descriptor.Scope.$new();return o[n.descriptor.IndexExpression]=n.collection[e],n.linker(o,function(e){t.Element=e,t.Scope=o}),t},this.removeElement=function(e){var t=n.items.splice(e,1)[0];n.domManager.Remove(t.Element),t.Scope.$destroy()},this.items=[],this.displayFrom=0,this.displayTo=0,this.descriptor.Scope.$on("$destroy",function(){n.items=[]})}return e.prototype.FillBottom=function(){var e=this.domManager.GetScrollBottomPosition();if(this.items.length>0){var t=this.items[this.items.length-1];if(this.domManager.GetElementBottomPosition(t.Element)>e)return}this.AddBottom()},e}();t.ElementsManager=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,o){var n=this;this.descriptor=e,this.scrollDetector=t,this.elementsManager=o,this.onCollectionUpdated=function(e){n.elementsManager.UpdateCollection(e)},this.onScrollDown=function(){n.scope.$apply(function(){n.elementsManager.AddBottom(),n.elementsManager.RemoveTop()})},this.onScrollUp=function(){n.scope.$apply(function(){n.elementsManager.AddTop(),n.elementsManager.RemoveBottom()})},this.scrollDetector.OnScrollDown=this.onScrollDown,this.scrollDetector.OnScrollUp=this.onScrollUp,this.scrollDetector.SubscribeToElement(),this.scope.$watchCollection(e.CollectionExpression,this.onCollectionUpdated)}return Object.defineProperty(e.prototype,"scope",{get:function(){return this.descriptor.Scope},enumerable:!0,configurable:!0}),e}();t.Scroller=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t,o){var n=this;this.descriptor=e,this.domManager=t,this.linker=o,this.REVEALER_SIZE_TO_CONTAINER=.75,this.UpdateCollection=function(e){void 0===n.collection?(n.collection=e,n.InitializeRevealer(),n.AddBottom()):(n.collection=e,n.updateScopes())},this.InitializeRevealer=function(){var e=n.createRevealer();n.revealers.push(e),n.domManager.AppendElement(e.Element);for(var t=0,o=!1;!(o||t>=n.collection.length);){var r=n.transcludeElement(t);n.domManager.AppendElementToContainer(r.Element,e.Element),e.Items.push(r);var i=n.domManager.GetRelativePositionOf(n.REVEALER_SIZE_TO_CONTAINER);if(n.domManager.GetElementBottomPosition(r.Element)>i){var l=e.Items.pop();l.Scope.$destroy(),l.Element.remove(),o=!0;break}t++}n.revealerSize=t,n.displayTo=t},this.AddTop=function(){if(0!==n.displayFrom){var e=n.createRevealer();n.revealers.unshift(e),n.domManager.PrependElement(e.Element);var t=0;for(t=0;t<n.revealerSize&&!(n.displayFrom+1-t<0);t++){var o=n.transcludeElement(n.displayFrom-1-t);n.domManager.PrependElementToContainer(o.Element,e.Element),e.Items.unshift(o)}n.displayFrom-=t}},this.AddBottom=function(){if(!(n.displayTo>=n.collection.length)){var e=n.createRevealer();n.revealers.push(e),n.domManager.AppendElement(e.Element);var t=0;for(t=0;t<n.revealerSize&&n.displayTo+t<n.collection.length;t++){var o=n.transcludeElement(n.displayTo+t);e.Element.append(o.Element),e.Items.push(o)}n.displayTo+=t}},this.RemoveTop=function(){if(!(n.revealers.length<=3)){var e=n.revealers.shift();for(n.displayFrom+=e.Items.length;e.Items.length>0;){var t=e.Items.pop();t.Element.remove(),t.Scope.$destroy()}e.Element.remove()}},this.RemoveBottom=function(){if(!(n.revealers.length<=3)){var e=n.revealers.pop();for(n.displayTo-=e.Items.length;e.Items.length>0;){var t=e.Items.pop();n.domManager.Remove(t.Element),t.Scope.$destroy()}n.domManager.Remove(e.Element),n.domManager.FixScroll(.5)}},this.updateScopes=function(){for(var e=n.displayFrom,t=0,o=n.revealers;t<o.length;t++){for(var r=o[t],i=0;i<n.revealerSize;i++){var l=e<n.collection.length,s=r.Items.length>i;if(l&&s)r.Items[i].Scope[n.descriptor.IndexExpression]=n.collection[e];else if(l){var c=n.transcludeElement(e);n.domManager.AppendElementToContainer(c.Element,r.Element),r.Items.push(c)}else{if(!s)continue;(c=r.Items.pop()).Scope.$destroy(),n.domManager.Remove(c.Element)}e++}0===r.Items.length&&n.domManager.Remove(r.Element)}var a=n.displayTo;n.displayTo=e,e<a&&n.collection.length>e?n.AddBottom():n.revealers=n.revealers.filter(function(e){return e.Items.length>0})},this.transcludeElement=function(e){var t={},o=n.descriptor.Scope.$new();return o[n.descriptor.IndexExpression]=n.collection[e],n.linker(o,function(e){t.Element=e,t.Scope=o}),t},this.createRevealer=function(){return{Element:n.domManager.CreateRevealerElement(),Items:[]}},this.revealers=[],this.displayFrom=0,this.displayTo=0,this.descriptor.Scope.$on("$destroy",function(){n.revealers=[]})}}();t.RevealerElementsManager=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t=this;this.GetScrollTopPosition=function(){return t.containerElement.offsetTop+t.containerElement.scrollTop},this.GetScrollBottomPosition=function(){return t.containerElement.offsetTop+t.containerElement.scrollTop+t.containerElement.offsetHeight},this.AppendElement=function(e){t.container.append(e)},this.PrependElement=function(e){t.container.prepend(e)},this.AppendElementToContainer=function(e,t){t.append(e)},this.PrependElementToContainer=function(e,t){t.prepend(e)},this.container=e.parent(),this.containerElement=this.container[0]}return e.prototype.CreateRevealerElement=function(){return angular.element('<div class="revealer"></div>')},e.prototype.GetElementTopPosition=function(e){return e[0].offsetTop},e.prototype.Remove=function(e){e.remove()},e.prototype.GetElementBottomPosition=function(e){return e[0].offsetTop+e[0].offsetHeight},e.prototype.GetRelativePositionOf=function(e){return this.containerElement.offsetTop+this.containerElement.offsetHeight*e},e.prototype.FixScroll=function(e){this.containerElement.scrollTo(0,this.containerElement.offsetHeight*e)},e}();t.DOMManager=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e){var t=this;this.element=e,this.lastScrollTop=0,this.BUFFER_COUNT=5,this.SubscribeToElement=function(){var e=t.element.parent()[0];e.onscroll=function(){if(t.lastScrollTop<e.scrollTop){var o=e.scrollTop+e.offsetHeight,n=e.scrollHeight;t.OnScrollDown&&o===n&&t.OnScrollDown()}else if(t.lastScrollTop>e.scrollTop){var r=e.children[0];t.OnScrollUp&&e.scrollTop<=r.clientHeight*t.BUFFER_COUNT&&t.OnScrollUp()}t.lastScrollTop=e.scrollTop}}}}();t.ScrollDetector=n}]);
//# sourceMappingURL=angular-infinite-scroller.min.js.map