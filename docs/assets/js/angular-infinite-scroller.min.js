!function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=1)}([function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,o){var n=this;this.descriptor=t,this.domManager=e,this.linker=o,this.fixDisplayWindow=function(){var t=n.displayTo-n.collection.length;if(t>0){n.displayTo-=t;var e=n.displayFrom-t;n.displayFrom=e>0?e:0}},this.cleanUpBottom=function(){for(var t=n.collection.length;t<n.items.length;)n.removeElement(t)},this.overwriteScopes=function(){for(var t=0;t<n.items.length;t++){n.items[t].Scope[n.descriptor.IndexExpression]=n.collection[n.displayFrom+t]}},this.collection=[],this.items=[],this.displayFrom=0,this.displayTo=0,this.descriptor.Scope.$on("$destroy",function(){return n.onDestroy})}return t.prototype.UpdateCollection=function(t){this.collection=t,this.fixDisplayWindow(),this.fillBottom(),this.overwriteScopes(),this.cleanUpBottom()},t.prototype.AddTop=function(){var t=this.descriptor.Settings.BufferSize,e=0;for(e=this.displayFrom-1;e>=0&&t>0;e--){var o=this.transcludeElement(e);this.domManager.PrependElement(o.Element),this.items.unshift(o),t--}this.displayFrom=e+1},t.prototype.AddBottom=function(){var t=this.domManager.GetScrollBottomPosition(),e=this.descriptor.Settings.BufferSize,o=0;for(o=this.displayTo;o<this.collection.length&&e>0;o++){var n=this.transcludeElement(o);this.domManager.AppendElement(n.Element),this.items.push(n);var r=n.Element;this.domManager.GetElementBottomPosition(r)>t&&e--}this.displayTo=o},t.prototype.RemoveTop=function(){for(var t=!0;t&&!(this.items.length<=this.descriptor.Settings.BufferSize);){var e=this.items[this.descriptor.Settings.BufferSize].Element;this.domManager.GetElementBottomPosition(e)<this.domManager.GetScrollTopPosition()?(this.removeElement(0),this.displayFrom++):t=!1}},t.prototype.RemoveBottom=function(){if(!(this.items.length<this.descriptor.Settings.BufferSize))for(var t=!0;t;){var e=this.items[this.items.length-this.descriptor.Settings.BufferSize].Element;this.domManager.GetElementTopPosition(e)>this.domManager.GetScrollBottomPosition()?(this.removeElement(this.items.length-1),this.displayTo--):t=!1}},t.prototype.onDestroy=function(){this.items=[]},t.prototype.fillBottom=function(){var t=this.domManager.GetScrollBottomPosition();if(this.items.length>0){var e=this.items[this.items.length-1];if(this.domManager.GetElementBottomPosition(e.Element)>t)return}this.AddBottom()},t.prototype.transcludeElement=function(t){var e={},o=this.descriptor.Scope.$new();return o[this.descriptor.IndexExpression]=this.collection[t],this.linker(o,function(t){e.Element=t,e.Scope=o}),e},t.prototype.removeElement=function(t){var e=this.items.splice(t,1)[0];this.domManager.Remove(e.Element),e.Scope.$destroy()},t}();e.ElementsManager=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(2),r=o(4),i=o(5),s=o(6),l=o(7);e.scrollerModule=angular.module("angular-infinite-scroller",[]),e.scrollerModule.directive("infiniteScroller",["$parse",function(t){return{priority:1e3,restrict:"A",transclude:"element",link:function(e,o,c,a,p){var u=n.Descriptor.createFrom(e,c),f=new r.DOMManager(o),h=new i.ScrollDetector(o),m=l.ElementsManagerFactory.createFrom(u,f,p,t);new s.Scroller(u,h,m).Subscribe()}}}])},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(3),r=function(){function t(){}return t.createFrom=function(e,o){var r=n.ScrollSettings.createFrom(o),i=t.parseExpression(o.infiniteScroller),s=new t;return s.CollectionExpression=i.collection,s.IndexExpression=i.index,s.TrackByExpression=i.trackBy,s.Scope=e,s.Settings=r,s},t.parseExpression=function(t){var e=t.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!e)throw Error("Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '"+t+"'.");var o=e[1],n=e[2],r=e[4];if(!(e=o.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw"'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.";return{collection:n,index:e[1],trackBy:r}},t}();e.Descriptor=r},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.BufferSize=10}return t.createFrom=function(e){var o=new t;if(e.scrollBufferSize)try{var n=parseInt(e.scrollBufferSize);if(isNaN(n))throw"";o.BufferSize=n}catch(t){throw"could not initialize scroll settings, ScrollBufferSize is not a number"}return o},t}();e.ScrollSettings=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){var e=this;this.GetScrollTopPosition=function(){return e.containerElement.offsetTop+e.containerElement.scrollTop},this.GetScrollBottomPosition=function(){return e.containerElement.offsetTop+e.containerElement.scrollTop+e.containerElement.offsetHeight},this.AppendElement=function(t){e.container.append(t)},this.PrependElement=function(t){e.container.prepend(t)},this.AppendElementToContainer=function(t,e){e.append(t)},this.PrependElementToContainer=function(t,e){e.prepend(t)},this.container=t.parent(),this.containerElement=this.container[0]}return t.prototype.CreateRevealerElement=function(){return angular.element('<div class="revealer"></div>')},t.prototype.GetElementTopPosition=function(t){return t[0].offsetTop},t.prototype.Remove=function(t){t.remove()},t.prototype.GetElementBottomPosition=function(t){return t[0].offsetTop+t[0].offsetHeight},t.prototype.GetRelativePositionOf=function(t){return this.containerElement.offsetTop+this.containerElement.offsetHeight*t},t.prototype.FixScroll=function(t){this.containerElement.scrollTo(0,this.containerElement.offsetHeight*t)},t.prototype.UpdateElementsWith=function(t){this.containerElement.innerHTML="";for(var e=0,o=t;e<o.length;e++){var n=o[e];this.containerElement.appendChild(n[0])}},t}();e.DOMManager=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return function(t){var e=this;this.element=t,this.lastScrollTop=0,this.BUFFER_COUNT=5,this.SubscribeToElement=function(){var t=e.element.parent()[0];t.onscroll=function(){if(e.lastScrollTop<t.scrollTop){var o=t.scrollTop+t.offsetHeight,n=t.scrollHeight;e.OnScrollDown&&o===n&&e.OnScrollDown()}else if(e.lastScrollTop>t.scrollTop){var r=t.children[0];e.OnScrollUp&&t.scrollTop<=r.clientHeight*e.BUFFER_COUNT&&e.OnScrollUp()}e.lastScrollTop=t.scrollTop}}}}();e.ScrollDetector=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,o){var n=this;this.descriptor=t,this.scrollDetector=e,this.elementsManager=o,this.onCollectionUpdated=function(t){n.elementsManager.UpdateCollection(t)},this.onScrollDown=function(){n.scope.$apply(function(){n.elementsManager.AddBottom(),n.elementsManager.RemoveTop()})},this.onScrollUp=function(){n.scope.$apply(function(){n.elementsManager.AddTop(),n.elementsManager.RemoveBottom()})},this.scrollDetector.OnScrollDown=this.onScrollDown,this.scrollDetector.OnScrollUp=this.onScrollUp}return Object.defineProperty(t.prototype,"scope",{get:function(){return this.descriptor.Scope},enumerable:!0,configurable:!0}),t.prototype.Subscribe=function(){this.scrollDetector.SubscribeToElement(),this.scope.$watchCollection(this.descriptor.CollectionExpression,this.onCollectionUpdated)},t}();e.Scroller=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(0),r=o(8),i=function(){function t(){}return t.createFrom=function(t,e,o,i){return t.TrackByExpression?new r.TrackByElementsManager(t,e,o,i):new n.ElementsManager(t,e,o)},t}();e.ElementsManagerFactory=i},function(t,e,o){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,o,n,r){var i=t.call(this,e,o,n)||this;return i.trackByParser=r(e.TrackByExpression),i.trackedItems={},i.tempScope=i.descriptor.Scope.$new(),i}return r(e,t),e.prototype.UpdateCollection=function(t){var e=this.collection.length;this.collection=t,this.fixDisplayWindow(),this.fillBottom(),e>0&&(this.updateItemsList(),this.updateElements())},e.prototype.transcludeElement=function(e){var o=t.prototype.transcludeElement.call(this,e);return o.TrackByValue=this.trackByParser(o.Scope),this.trackedItems[o.TrackByValue]=o,o},e.prototype.removeElement=function(e){var o=this.items[e];delete this.trackedItems[o.TrackByValue],t.prototype.removeElement.call(this,e)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.tempScope.$destroy(),this.trackedItems=null},e.prototype.updateItemsList=function(){for(var t=[],e={},o=this.displayFrom;o<this.displayTo;o++){var n=this.getTrackByOfCollectionItem(o),r=this.trackedItems[n];if(r)t.push(r),e[n]=r;else{var i=this.transcludeElement(o);t.push(i),e[n]=i}}for(var s=0,l=Object.keys(this.trackedItems);s<l.length;s++){var c=l[s];e[c]||this.trackedItems[c].Scope.$destroy()}this.items=t,this.trackedItems=e},e.prototype.updateElements=function(){var t=this.items.map(function(t){return t.Element});this.domManager.UpdateElementsWith(t)},e.prototype.getTrackByOfCollectionItem=function(t){return this.tempScope[this.descriptor.IndexExpression]=this.collection[t],this.trackByParser(this.tempScope)},e}(o(0).ElementsManager);e.TrackByElementsManager=i}]);
//# sourceMappingURL=angular-infinite-scroller.min.js.map